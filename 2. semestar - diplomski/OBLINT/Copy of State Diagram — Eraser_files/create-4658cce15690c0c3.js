(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5250],{73009:function(e,t,n){"use strict";var r,a=n(2784);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}t.Z=function(e){return a.createElement("svg",i({width:15,height:15,viewBox:"0 0 15 15",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=a.createElement("path",{d:"M4.5 6.5L1.328 9.672a2.828 2.828 0 104 4L8.5 10.5m2-2l3.172-3.172a2.829 2.829 0 00-4-4L6.5 4.5m-2 6l6-6",fill:"none",stroke:"currentColor"})))}},35174:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/team/create",function(){return n(31)}])},34583:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r,a=n(52322),i=n(2784),o=n(3468),c=n(43567),s=n.n(c);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=(u(r={},o.hT.CREATE_SURVEY_INCOMPLETE,[o.lp.CREATE_TEAM,o.lp.INVITE_MEMBERS,o.lp.PREFERENCES,o.lp.USE_CASES,o.lp.TOOLS]),u(r,o.hT.CREATE_SURVEY_COMPLETE,[o.lp.CREATE_TEAM,o.lp.INVITE_MEMBERS]),u(r,o.hT.JOIN_EXISTING_TEAM,[o.lp.PREFERENCES,o.lp.USE_CASES,o.lp.TOOLS]),r),f=function(e){var t=e.step,n=e.flow,r=void 0===n?o.hT.CREATE_SURVEY_INCOMPLETE:n,i=l[r];return(0,a.jsxs)("div",{className:s().signUpStepInfo,children:[String(i.indexOf(t)+1)," of ",i.length]})},E=(0,i.memo)(f)},9211:function(e,t,n){"use strict";n.d(t,{Qb:function(){return S},p9:function(){return g}});var r=n(94776),a=n.n(r),i=n(5632),o=n.n(i),c=n(52251),s=n(66700),u=n(19785);function l(e){(0,u.Z)(1,arguments);var t=(0,s.Z)(e),n=t.getTime();return n}function f(e){return(0,u.Z)(1,arguments),Math.floor(l(e)/1e3)}var E=n(7878);function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var d={defaultTTL:86400},v=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;m(this,e),this._storage=t,this._options=n}var t=e.prototype;return t.setItem=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._options.defaultTTL,r=f(new Date),a={value:t,exp:r+n};this._storage.setItem(e,a)},t.getItem=function(e){var t=this._storage.getItem(e);if(null==t||"object"!==typeof t)return t;if(!Reflect.has(t,"value")||!Reflect.has(t,"exp"))return console.warn('ExpiryLocalStorage.getItem("'.concat(e,'") - data is malformed'),t),null;var n=f(new Date);return n>t.exp?(console.debug('ExpiryLocalStorage.getItem("'.concat(e,'") - data has expired ').concat(n-t.exp," seconds ago")),this._storage.removeItem(e),null):t.value},t.removeItem=function(e){this._storage.removeItem(e)},t.clear=function(){this._storage.clear()},e}(),h=new v(E.J);function p(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){p(i,r,a,o,c,"next",e)}function c(e){p(i,r,a,o,c,"throw",e)}o(void 0)}))}}var _="auth/redirect";function g(e){h.setItem(_,e,900)}function b(){return h.getItem(_)}function I(){h.removeItem(_)}function S(e,t){return y.apply(this,arguments)}function y(){return(y=T(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=b(),console.debug("Redirect to ".concat(null!==r&&void 0!==r?r:t)),!r){e.next=9;break}return I(),c.Z.trackEvent("login-page","redirect_to_saved_path",{source:n,url:r,workspaceId:r.split("/")[2]}),e.next=7,o().replace(r);case 7:e.next=11;break;case 9:return e.next=11,o().replace(t);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},31:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return $}});var r=n(52322),a=n(2784),i=n(5632),o=n(68732),c=n(14898),s=n(70265),u=n(3468),l=n(24165),f=n(52251),E=n(48432),m=n(34583),d=n(63955),v=n(2468),h=n(14113),p=n(3559),T=n(82602),_=n(60306),g=n(4601);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){b(e,t,n[t])}))}return e}var S,y=function(e){var t=e.className,n=e.onTeamCreated,a=(0,d.cI)({reValidateMode:"onChange"}),i=a.register,o=a.formState,c=a.handleSubmit,s=o.errors,u=o.submitCount,l=(0,v.K)({onSuccess:n}),f=l.canCreateTeam,E=l.isLoadingCreateTeamCheck,m=l.handleCreateTeam,b=l.error,S=l.loading,y=l.defaultTeamName;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("form",{id:"create-team-form",onSubmit:c(m),children:(0,r.jsx)(T.Z,{className:t,children:(0,r.jsx)(h.Z,I({size:h.Z.Sizes.LARGE,label:"Team Name",placeholder:"Team Name",autoFocus:!0,defaultValue:y},i("name",{required:!0,minLength:1,maxLength:64}),{error:s.name,touched:u>0}))})}),(0,r.jsx)(_.Z,{children:(0,r.jsx)(p.ZP,{form:"create-team-form","data-testid":"create-team-btn",variant:p.ZP.Variants.REGULAR,size:p.ZP.Sizes.X_LARGE,isLoading:S,disabled:!f||E,type:"submit",children:"Continue"})}),(0,r.jsx)(g.Z,{error:null===b||void 0===b?void 0:b.message})]})},C=(0,a.memo)(y);function O(){return O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O.apply(this,arguments)}var w,R=function(e){return a.createElement("svg",O({width:15,height:15,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),S||(S=a.createElement("g",{fill:"var(--green-success)"},a.createElement("path",{d:"M5.5 0a3.499 3.499 0 100 6.996A3.499 3.499 0 105.5 0zM3.5 8.994a3.5 3.5 0 00-3.5 3.5v2.497h11v-2.497a3.5 3.5 0 00-3.5-3.5h-4zM12.5 10H12v5h3v-2.5a2.5 2.5 0 00-2.5-2.5z"}),a.createElement("path",{d:"M11.5 4a2.5 2.5 0 100 5 2.5 2.5 0 000-5z"}))))},x=function(e){var t=e.onTeamCreated,n=(0,l.Z)(),i=(0,c.aF)(),o=!!(null===i||void 0===i?void 0:i.surveyData);return(0,a.useEffect)((function(){f.Z.trackEvent("team_creation","step",{name:"team_name"})}),[]),(0,r.jsxs)(E.Z,{label:"Team Name",labelIcon:(0,r.jsx)(R,{}),title:"What should we call your team?",footer:(null===n||void 0===n?void 0:n.length)?(0,r.jsxs)(r.Fragment,{children:["Or ",(0,r.jsx)("a",{href:"/team/join",children:"join existing team"})," instead"]}):null,children:[(0,r.jsx)("p",{children:"You can always change this later from settings."}),(0,r.jsx)(C,{onTeamCreated:t}),(0,r.jsx)(m.Z,{step:u.lp.CREATE_TEAM,flow:o?u.hT.CREATE_SURVEY_COMPLETE:u.hT.CREATE_SURVEY_INCOMPLETE})]})},j=(0,a.memo)(x),A=n(30039),L=n(11929),M=n(59065),N=n(7305),P=n(66924),Z=n(20407),k=n(9211),U=n(27331),V=n(17559),F=n(9605),z=n(73009),B=n(36300);function G(){return G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}var D=function(e){return a.createElement("svg",G({width:16,height:15,viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),w||(w=a.createElement("g",{fill:"var(--green-success)"},a.createElement("path",{d:"M15.454.71a.5.5 0 01-.1.144L5.9 10.306l2.67 4.451a.5.5 0 00.889-.06L15.454.71zM5.194 9.6L.743 6.928a.5.5 0 01.06-.889L14.793.045a.5.5 0 00-.146.101L5.194 9.6z"}))))},Y=n(78089),X=n.n(Y);function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){J(e,t,n[t])}))}return e}var H=function(e){var t=e.teamId,n=(0,i.useRouter)(),o=(0,V.Z)(),s=(0,F.Z)(),l=(0,c.aF)(),v=!!(null===l||void 0===l?void 0:l.surveyData),h=(0,U._)({entityType:M.FU.Team,entityId:t}),g=(0,d.cI)({mode:"onSubmit"}),b=g.register,I=g.formState,S=g.handleSubmit,y=g.reset;(0,a.useEffect)((function(){f.Z.trackEvent("team_creation","step",{name:"invite"})}),[]),(0,a.useEffect)((function(){h.isEnabled||h.onTurnOn()}),[h.isEnabled,h.onTurnOn]);var C=(0,a.useCallback)((function(){f.Z.trackEvent("team_share_dialog","copy_link_click"),o(h.inviteLink)}),[o,h.inviteLink]),O=(0,a.useCallback)((function(){v?(f.Z.trackEvent("getting_started","auto_route",{source:"create_team"}),(0,k.Qb)("/dashboard/getting-started","team_create")):n.push("/user/survey")}),[v,n.push]),w=(0,L.UK)((function(e){var n=e.email;s.promise((0,Z.Z)({type:M.PA.Email,inviteTo:M.FU.Team,status:M.aj.Pending,teamId:t,inviterId:l.id,inviteeEmail:n},"team_creation"),{loading:"Inviting ".concat(n),success:"Invitation sent to ".concat(n),error:function(e){return(0,P.Tb)(new Error("Failed to invite user",{cause:e})),"Invitation sending failed"}}),y()})).execute;return(0,r.jsxs)(E.Z,{className:X().inviteMembersView,label:"Invite Teammates",labelIcon:(0,r.jsx)(D,{}),title:"Who do you collaborate with?",children:[(0,r.jsx)("p",{children:"Invite teammates. Everyone will have access to the same dashboard"}),(0,r.jsx)("form",{onSubmit:S(w),children:(0,r.jsxs)(T.Z,{children:[(0,r.jsx)(B.Z,W({size:B.Z.Sizes.LARGE,label:"Invite Teammate",placeholder:"Email address",type:"email",autoComplete:"email"},b("email",{required:!0,validate:N.Le}),{button:(0,r.jsx)(p.ZP,{className:X().inviteBtn,size:p.ZP.Sizes.LARGE,disabled:!I.isValid,onClick:S(w),children:"Invite"}),autoFocus:!0})),(0,r.jsx)("p",{children:(0,r.jsxs)("a",{className:X().copyLink,onClick:C,children:[(0,r.jsx)(z.Z,{}),"Copy invite link"]})})]})}),(0,r.jsx)(_.Z,{children:(0,r.jsx)(p.ZP,{"data-testid":"end-invite-members-btn",size:p.ZP.Sizes.X_LARGE,onClick:O,children:v?"Create Team":"Continue"})}),(0,r.jsx)(m.Z,{step:u.lp.INVITE_MEMBERS,flow:v?u.hT.CREATE_SURVEY_COMPLETE:u.hT.CREATE_SURVEY_INCOMPLETE})]})},K=(0,a.memo)(H);function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(s){c=!0,a=s}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var $=function(){var e=(0,a.useState)(),t=e[0],n=e[1],u=Q((0,o.p3)(),2),l=(u[0],u[1]),f=(0,i.useRouter)(),E=(0,c.aF)(),m=(0,a.useCallback)((function(e){l(e.id),n(e)}),[l]);return f.isReady&&E?(0,r.jsx)(s.Z,{hideSplashOnLoad:!0,children:(0,r.jsx)(A.Z,{staticLogo:!0,children:t?(0,r.jsx)(K,{teamId:t.id}):(0,r.jsx)(j,{onTeamCreated:m})})}):null}},3468:function(e,t,n){"use strict";var r,a,i,o;n.d(t,{BT:function(){return r},Ib:function(){return a},hT:function(){return i},lp:function(){return o}}),function(e){e.ARCHITECTURE="Architecture",e.DESIGN_DOCS="Design Docs",e.WIREFRAMES="Wireframes",e.INTERVIEWS="Interviews",e.BRAINSTORMING="Brainstorming",e.DOCUMENTATION="Documentation"}(r||(r={})),function(e){e.GITHUB="GitHub",e.GITLAB="GitLab",e.NOTION="Notion",e.CONFLUENCE="Confluence",e.JIRA="JIRA",e.LINEAR="Linear",e.VS_CODE="VS Code"}(a||(a={})),function(e){e.CREATE_SURVEY_INCOMPLETE="CREATE_SURVEY_INCOMPLETE",e.CREATE_SURVEY_COMPLETE="CREATE_SURVEY_COMPLETE",e.JOIN_EXISTING_TEAM="JOIN_EXISTING_TEAM"}(i||(i={})),function(e){e.CREATE_TEAM="CREATE_TEAM",e.INVITE_MEMBERS="INVITE_MEMBERS",e.PREFERENCES="PREFERENCES",e.USE_CASES="USE_CASES",e.TOOLS="TOOLS"}(o||(o={}))},78089:function(e){e.exports={inviteMembersView:"InviteMembersView_inviteMembersView__5KFON",copyLink:"InviteMembersView_copyLink__31kg8",inviteBtn:"InviteMembersView_inviteBtn__fp20_"}},43567:function(e){e.exports={signUpStepInfo:"SignUpStepInfo_signUpStepInfo__FGUMO"}}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[9774,2888,179],(function(){return t(412),t(35174)}));var n=e.O();_N_E=n}]);