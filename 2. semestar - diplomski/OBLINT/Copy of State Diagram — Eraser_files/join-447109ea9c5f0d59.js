(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6543],{63090:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/team/join",function(){return n(82446)}])},9211:function(e,t,n){"use strict";n.d(t,{Qb:function(){return j},p9:function(){return w}});var r=n(94776),a=n.n(r),i=n(5632),o=n.n(i),u=n(52251),s=n(66700),c=n(19785);function l(e){(0,c.Z)(1,arguments);var t=(0,s.Z)(e),n=t.getTime();return n}function f(e){return(0,c.Z)(1,arguments),Math.floor(l(e)/1e3)}var v=n(7878);function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var d={defaultTTL:86400},h=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;m(this,e),this._storage=t,this._options=n}var t=e.prototype;return t.setItem=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._options.defaultTTL,r=f(new Date),a={value:t,exp:r+n};this._storage.setItem(e,a)},t.getItem=function(e){var t=this._storage.getItem(e);if(null==t||"object"!==typeof t)return t;if(!Reflect.has(t,"value")||!Reflect.has(t,"exp"))return console.warn('ExpiryLocalStorage.getItem("'.concat(e,'") - data is malformed'),t),null;var n=f(new Date);return n>t.exp?(console.debug('ExpiryLocalStorage.getItem("'.concat(e,'") - data has expired ').concat(n-t.exp," seconds ago")),this._storage.removeItem(e),null):t.value},t.removeItem=function(e){this._storage.removeItem(e)},t.clear=function(){this._storage.clear()},e}(),p=new h(v.J);function g(e,t,n,r,a,i,o){try{var u=e[i](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,a)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){g(i,r,a,o,u,"next",e)}function u(e){g(i,r,a,o,u,"throw",e)}o(void 0)}))}}var _="auth/redirect";function w(e){p.setItem(_,e,900)}function b(){return p.getItem(_)}function E(){p.removeItem(_)}function j(e,t){return y.apply(this,arguments)}function y(){return(y=x(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=b(),console.debug("Redirect to ".concat(null!==r&&void 0!==r?r:t)),!r){e.next=9;break}return E(),u.Z.trackEvent("login-page","redirect_to_saved_path",{source:n,url:r,workspaceId:r.split("/")[2]}),e.next=7,o().replace(r);case 7:e.next=11;break;case 9:return e.next=11,o().replace(t);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},82446:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return R}});var r,a=n(52322),i=n(5632),o=n(70265),u=n(30039),s=n(94776),c=n.n(s),l=n(2784),f=n(17003),v=n(9605),m=n(14898),d=n(68732),h=n(68056),p=n(24165),g=n(9211),x=n(52251),_=n(3559),w=n(48432),b=n(99710),E=n(60306);function j(){return j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j.apply(this,arguments)}var y=function(e){return l.createElement("svg",j({width:16,height:15,viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=l.createElement("g",{fill:"var(--green-success)"},l.createElement("path",{d:"M6 0a3.499 3.499 0 100 6.996A3.499 3.499 0 106 0zM4 8.994a3.5 3.5 0 00-3.5 3.5v2.497h11v-2.497a3.5 3.5 0 00-3.5-3.5H4zM13 10h-.5v5h3v-2.5A2.5 2.5 0 0013 10z"}),l.createElement("path",{d:"M12 4a2.5 2.5 0 100 5 2.5 2.5 0 000-5z"}))))},Z=n(58547),T=n.n(Z);function I(e,t,n,r,a,i,o){try{var u=e[i](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,a)}var k=function(){var e=(0,l.useState)(),t=e[0],n=e[1],r=(0,v.Z)(),o=(0,i.useRouter)(),u=(0,p.Z)(),s=(0,m.aF)(),j=(0,d.mZ)(),Z=(0,m.Fl)(),k=(0,f.Z)(h.Z),P=(0,l.useRef)();(0,l.useEffect)((function(){u&&(u.length?clearTimeout(P.current):P.current=setTimeout((function(){o.replace("/team/create")}),500))}),[u,o.replace]);var R=(0,l.useCallback)(function(){var e,n=(e=c().mark((function e(n){var a,i,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),t&&s){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,r.promise(k.execute(t,s.id,{origin:"page",isAutoJoin:!0}),{loading:"Joining team",success:"Joined team",error:"Something went wrong"});case 5:if(s.surveyData){e.next=8;break}return o.push("/user/survey"),e.abrupt("return");case 8:a=1===j.size,u=null===(i=null===Z||void 0===Z?void 0:Z.isGettingStartedEnabled)||void 0===i||i,a&&u?((0,g.Qb)("/dashboard/getting-started","team_join"),x.Z.trackEvent("getting_started","auto_route",{source:"join_team"})):(0,g.Qb)("/dashboard/all","team_join");case 13:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){I(i,r,a,o,u,"next",e)}function u(e){I(i,r,a,o,u,"throw",e)}o(void 0)}))});return function(e){return n.apply(this,arguments)}}(),[t,s,j,null===Z||void 0===Z?void 0:Z.isGettingStartedEnabled,r.promise,o.push,k.execute]);return u?(0,a.jsxs)(w.Z,{className:T().joinExistingTeamView,label:"Join Team",labelIcon:(0,a.jsx)(y,{}),title:"Join your teammates",children:[(0,a.jsx)(b.D,{}),(0,a.jsx)("form",{id:"join-team-form",onSubmit:R,children:(0,a.jsx)(b.Z,{className:T().teams,onSelectionChange:n})}),(0,a.jsx)(E.Z,{children:(0,a.jsx)(_.ZP,{form:"join-team-form",variant:_.ZP.Variants.REGULAR,size:_.ZP.Sizes.X_LARGE,disabled:!t,children:"Join Team"})})]}):null},P=(0,l.memo)(k),R=function(){return(0,i.useRouter)().isReady?(0,a.jsx)(o.Z,{hideSplashOnLoad:!0,children:(0,a.jsx)(u.Z,{staticLogo:!0,children:(0,a.jsx)(P,{})})}):null}},58547:function(e){e.exports={joinExistingTeamView:"JoinExistingTeamView_joinExistingTeamView___aYZj",teams:"JoinExistingTeamView_teams__cOIdt"}}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[9774,2888,179],(function(){return t(412),t(63090)}));var n=e.O();_N_E=n}]);