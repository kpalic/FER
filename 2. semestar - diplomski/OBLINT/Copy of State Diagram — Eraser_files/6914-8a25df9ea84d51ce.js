(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6914],{96914:function(e,n,t){"use strict";t.d(n,{_c:function(){return A},mX:function(){return f},En:function(){return D},$4:function(){return B}});var r=t(52322),a=t(2784),u=t(25237),i=t.n(u),o=t(23656),c=t(96166),s=t.n(c),f=function(e){var n=e.children;return(0,r.jsx)("div",{className:s().container,children:(0,r.jsx)("div",{id:o.uB,className:"excalidraw draft-view-mode",children:n})})},l=t(94776),p=t.n(l),h=t(48834).Buffer;function d(e,n,t,r,a,u,i){try{var o=e[u](i),c=o.value}catch(s){return void t(s)}o.done?n(c):Promise.resolve(c).then(r,a)}function v(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var u=e.apply(n,t);function i(e){d(u,r,a,i,o,"next",e)}function o(e){d(u,r,a,i,o,"throw",e)}i(void 0)}))}}function m(e,n){return w.apply(this,arguments)}function w(){return(w=v(p().mark((function e(n,t){var r,a,u;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=y(n,t),e.next=3,g(r,t.format||"png");case 3:return a=e.sent,e.next=6,x(a);case 6:return u=e.sent,e.abrupt("return",u);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.background,r=n.format;if(!t&&"jpeg"!==r)return e;var a=document.createElement("canvas");a.width=e.width,a.height=e.height;var u=a.getContext("2d"),i=window.getComputedStyle(document.body).backgroundColor;return u.fillStyle=i,u.fillRect(0,0,a.width,a.height),u.drawImage(e,0,0),a}function g(e,n){return b.apply(this,arguments)}function b(){return(b=v(p().mark((function e(n,t){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){try{n.toBlob((function(n){if(!n)return r(new Error("Export failed"));e(n)}),"image/"+t,.95)}catch(a){r(a)}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return E.apply(this,arguments)}function E(){return(E=v(p().mark((function e(n){var t,r,a,u;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.arrayBuffer();case 2:for(t=e.sent,r=h.alloc(t.byteLength),a=new Uint8Array(t),u=0;u<r.length;++u)r[u]=a[u];return e.abrupt("return",r.toString("base64"));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,n,t,r,a,u,i){try{var o=e[u](i),c=o.value}catch(s){return void t(s)}o.done?n(c):Promise.resolve(c).then(r,a)}function S(e){var n=e.theme,t=void 0===n?"light":n,r=e.scale,u=(0,a.useState)(null),i=u[0],o=u[1],c=(0,a.useCallback)(function(){var e,n=(e=p().mark((function e(n){var a,u,o,c;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.background,u=n.format,o=void 0===u?"png":u,i){e.next=3;break}throw new Error("Canvas not ready!");case 3:return e.next=5,m(i,{background:a,theme:t,scale:r,format:o});case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,a){var u=e.apply(n,t);function i(e){k(u,r,a,i,o,"next",e)}function o(e){k(u,r,a,i,o,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}(),[i,t,r]);return(0,a.useEffect)((function(){null!==window&&i&&(window.__EXPORT_CANVAS=c)}),[c,i]),{exportCanvas:m,canvas:i,setCanvas:o}}var _=t(84938),C=t(46309),P=i()((function(){return Promise.all([t.e(1273),t.e(3484),t.e(4155),t.e(4165),t.e(5392),t.e(7219),t.e(5860),t.e(1219),t.e(6763),t.e(5110),t.e(9489),t.e(2116),t.e(1746),t.e(2199),t.e(8191),t.e(5940),t.e(7519)]).then(t.bind(t,93970))}),{loadableGenerated:{webpack:function(){return[93970]}},ssr:!1,loading:function(){return null}}),A=function(e){var n=e.elements,t=e.ignoreElements,u=e.selection,i=e.padding,o=e.theme,c=e.scale,s=(0,_.Z)(),l=S({theme:o,scale:c}),p=l.canvas,h=l.setCanvas;return(0,a.useEffect)((function(){s&&(window.__getScene=function(){return s},s.replaceAllElements(n))}),[s,n]),(0,a.useEffect)((function(){C.e.theme=o}),[o]),s?(0,r.jsx)(f,{children:(0,r.jsx)(P,{scene:s,selection:u,ignoreElements:t,theme:o,scale:c,canvas:p,padding:i,setCanvas:h})}):null},j=t(41092);function N(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function O(e,n,t,r,a,u,i){try{var o=e[u](i),c=o.value}catch(s){return void t(s)}o.done?n(c):Promise.resolve(c).then(r,a)}function T(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var u=e.apply(n,t);function i(e){O(u,r,a,i,o,"next",e)}function o(e){O(u,r,a,i,o,"throw",e)}i(void 0)}))}}function R(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,u=[],i=!0,o=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(u.push(r.value),!n||u.length!==n);i=!0);}catch(c){o=!0,a=c}finally{try{i||null==t.return||t.return()}finally{if(o)throw a}}return u}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return N(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return N(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e){var n=(0,a.useState)({elements:[],selection:[],ignoreElements:[]}),t=n[0],r=n[1],u=(0,j.R)();return(0,a.useEffect)((function(){if("string"===typeof e.query.elementData){var n=JSON.parse(e.query.elementData);function t(){return a.apply(this,arguments)}function a(){return(a=T(p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u;case 2:return e.next=4,D(n);case 4:t=e.sent,r({elements:t,selection:[],ignoreElements:[]});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t()}}),[e,u]),(0,a.useEffect)((function(){null!==window&&(window.__SET_ELEMENTS=function(){var e=T(p().mark((function e(n){var t,a,i,o=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>1&&void 0!==o[1]?o[1]:[],a=o.length>2&&void 0!==o[2]?o[2]:[],e.next=3,u;case 3:return e.next=5,D(n);case 5:i=e.sent,r({elements:i,selection:t,ignoreElements:a});case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}),[u]),t}function D(e){return I.apply(this,arguments)}function I(){return(I=T(p().mark((function e(n){var r,a,u,i,o,c,s,f,l,h,d,v,m,w,y;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=R,e.next=3,Promise.all([Promise.all([t.e(4155),t.e(4165),t.e(5392),t.e(1219),t.e(6763),t.e(1746),t.e(5940),t.e(3165),t.e(2765)]).then(t.bind(t,4878)),Promise.all([t.e(1273),t.e(3484),t.e(4155),t.e(4165),t.e(5392),t.e(7219),t.e(5860),t.e(1219),t.e(6763),t.e(5110),t.e(9489),t.e(2116),t.e(1746),t.e(1543)]).then(t.bind(t,17936))]);case 3:e.t1=e.sent,r=(0,e.t0)(e.t1,2),a=r[0].restoreElement,u=r[1],i=u.newRenderedDiagramElement,o=u.DEFAULT_PROPS,c=[],s=0,f=0,l=!0,h=!1,d=void 0,e.prev=13,v=n[Symbol.iterator]();case 15:if(l=(m=v.next()).done){e.next=32;break}if(w=m.value,y=Object.assign({x:s,y:f},o,w),"diagram"!==(y=a(y)).type||y.width&&y.height){e.next=27;break}return e.t2=c,e.next=23,i(y);case 23:e.t3=e.sent,e.t2.push.call(e.t2,e.t3),e.next=28;break;case 27:c.push(y);case 28:f=y.y+y.height+50;case 29:l=!0,e.next=15;break;case 32:e.next=38;break;case 34:e.prev=34,e.t4=e.catch(13),h=!0,d=e.t4;case 38:e.prev=38,e.prev=39,l||null==v.return||v.return();case 41:if(e.prev=41,!h){e.next=44;break}throw d;case 44:return e.finish(41);case 45:return e.finish(38);case 46:return e.abrupt("return",c);case 47:case"end":return e.stop()}}),e,null,[[13,34,38,46],[39,,41,45]])})))).apply(this,arguments)}},46309:function(e,n,t){"use strict";t.d(n,{e:function(){return r}});var r={theme:void 0}},84938:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(2784);function a(){var e=(0,r.useState)(),n=e[0],a=e[1];return(0,r.useEffect)((function(){Promise.all([t.e(4155),t.e(4165),t.e(5392),t.e(1219),t.e(6763),t.e(1746),t.e(6139)]).then(t.bind(t,56139)).then((function(e){var n=e.default;a(new n)}))}),[]),n}},96166:function(e){e.exports={container:"TextMeasureContainer_container__A4CJr"}}}]);